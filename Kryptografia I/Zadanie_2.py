import timeit
import re


def binary(x, k, n):
    k = bin(k)
    k = re.sub(r'^0b', '', k)

    y = 1
    l = len(k)
    i = 0

    while i < l:
        y = (y * y) % n
        if k[i] == '1':
            y = (y * x) % n
        i = i + 1

    return y


# b = int(input("Enter b:"))
# e = int(input("Enter e:"))
# m = int(input("Enter m:"))
b = 114490559043126076738153358744966087681953386182425573483404112031815201175394209446530718026054824536822393073768479394115941549919359895111725996451157521700161443180727996657988659990597046662665463765926411024939606661260667863176902524560156078905991604769638931779122326545032024160910696661027
e = 391391460710934952447744356920347432818302403303325591886976492807319896968025226937614034635791513888335717473023250182271798945302849615194243154049546831368896945330379987670475241933068594152537330597969762722659261563190456905695749170316137931922395119952663460471204126820352679225013665046771
m = 393847041276178206491396243212274945872070776985043237184044451747690284405703994938020592656894726519747568678264497623311685635604918597230323269556886420453871930400418329075629418384691272372863859327955756407280218398219170544142787007265395975232901233778590659508114573048528189504436995545652
result = 136303257957567362180071863636420766740669873324815196184034294705354418812626605831316860686015856673269382516040894551675802604410505265303234064953051343202752741826293797958136947453648897824494945677908997979786647384071102426570472930873744456035769594023808125989650002754112369780914075033671
start = timeit.default_timer()
r = binary(b, e, m)
stop = timeit.default_timer()
print("PotÄ™ga binarna: {}".format(r))
if r == result:
    print("Completed in time: {}".format(stop - start))
else: print("Not this time")
